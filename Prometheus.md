## Prometheus는 SoundCloud사에서 만든 오픈소스 시스템 모니터링 및 경고 툴킷입니다.

지금은 독립형 오픈소스 프로젝트이며 많은 회사들이 사용 하고 있고, 또한 kubernetes에서도 Prometheus를 사용하여 매트릭 수집 및 대시보드 구축하는 방식을 장려하고 있습니다.

Prometheus 가 수집하는 metic 데이터의 예시는 다음과 같습니다.

- 메트릭 데이터:
    - 카운터 (Counter): 증가만 하는 누적 값 (예: 총 요청 수)
    - 게이지 (Gauge): 증가하거나 감소할 수 있는 값 (예: 현재 메모리 사용량)
    - 히스토그램 (Histogram): 값의 분포를 측정 (예: 요청 지연 시간)
    - 서머리 (Summary): 히스토그램과 유사하지만 클라이언트 측에서 계산된 백분위수 제공
- 레이블: 각 메트릭에는 키-값 쌍의 레이블을 추가할 수 있어 다차원 데이터 모델을 구현합니다.
- 타임스탬프: 각 메트릭 데이터 포인트에는 타임스탬프가 포함됩니다.

Prometheus를 다른 메트릭 및 모니터링 시스템과 구별하는 특징은 다음과 같습니다:

1. **다차원** 데이터 모델 (메트릭 이름과 키/값 차원 세트로 정의되는 시계열)
2. PromQL, 이러한 차원성을 활용하는 **강력하고 유연한 쿼리 언어**
3. 분산 저장소에 대한 의존성 없음; **단일 서버 노드가 자율적으로 작동**
4. 시계열 수집을 위한 HTTP **풀(pull) 모델**
5. 배치 작업을 위한 중간 게이트웨이를 통해 **시계열 푸시(push)** 지원
6. **서비스 디스커버리** 또는 **정적 구성**을 통한 대상 발견
7. 다양한 모드의 **그래핑 및 대시보드 지원**
8. 계층적 및 수평적 **연합(federation)** 지원

```
Prometheus는 HTTP 로그를 직접 처리하지 않습니다. 대신:
1. 애플리케이션이나 시스템에서 메트릭을 노출합니다 (보통 `/metrics` 엔드포인트를 통해).
2. Prometheus 서버가 이 엔드포인트를 주기적으로 스크래핑하여 메트릭을 수집합니다.

HTTP 로그와 같은 상세한 이벤트 데이터가 필요한 경우, 일반적으로 다음과 같은 접근 방식을 사용합니다:
1. 로그 데이터는 ELK 스택(Elasticsearch, Logstash, Kibana)과 같은 별도의 로그 관리 시스템으로 전송합니다.
2. 애플리케이션에서 로그 데이터를 기반으로 주요 메트릭을 계산하고, 이를 Prometheus 형식으로 노출합니다.
```

출처: https://github.com/prometheus/prometheus
출처: https://medium.com/finda-tech/prometheus란-cf52c9a8785f